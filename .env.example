# DukaPOS Environment Configuration
# Copy this file to .env and fill in your values

# ===================
# SERVER CONFIG
# ===================
PORT=8080
ENVIRONMENT=development # development, staging, production
DEBUG=true

# ===================
# DATABASE CONFIG
# ===================
DB_TYPE=sqlite
DB_PATH=./dukapos.db
DB_MAX_IDLE_CONNECTIONS=10
DB_MAX_OPEN_CONNECTIONS=100
# For PostgreSQL, uncomment below:
# DB_HOST=localhost
# DB_PORT=5432
# DB_USER=postgres
# DB_PASSWORD=your_password
# DB_NAME=dukapos
# DB_SSL_MODE=disable

# ===================
# TWILIO CONFIG (Required for WhatsApp)
# ===================
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_WHATSAPP_NUMBER=whatsapp:+14155238886
TWILIO_AUTHENTICATION_TOKEN=your_webhook_verify_token

# ===================
# JWT CONFIG
# ===================
JWT_SECRET=your_super_secret_jwt_key_change_in_production
JWT_EXPIRY_HOURS=72

# ===================
# M-PESA CONFIG (Pro Feature)
# ===================
MPESA_CONSUMER_KEY=your_mpesa_consumer_key
MPESA_CONSUMER_SECRET=your_mpesa_consumer_secret
MPESA_SHORTCODE=your_shortcode
MPESA_PASSKEY=your_passkey
MPESA_ENVIRONMENT=sandbox # sandbox, live
MPESA_CALLBACK_URL=https://your-domain.com/webhook/mpesa/stk

# ===================
# REDIS CONFIG (Optional - for caching/sessions)
# ===================
REDIS_URL=localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# ===================
# RATE LIMITING
# ===================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_SECONDS=60

# ===================
# LOGGING
# ===================
LOG_LEVEL=debug # debug, info, warn, error
LOG_FILE=./logs/dukapos.log

# ===================
# SECURITY
# ===================
ALLOWED_ORIGINS=*
CORS_ENABLED=true
ENCRYPTION_KEY=change-this-to-32-character-key

# ===================
# ADMIN ACCOUNT (Optional - for first-time setup)
# ===================
# Set these to create an admin account on first run
# If not set, use /api/auth/register to create accounts
# ADMIN_EMAIL=admin@yourdomain.com
# ADMIN_PASSWORD=secure_password_here
# ADMIN_PHONE=+254700000000

# ===================
# SEED DATA (Development only - NEVER enable in production!)
# ===================
# SEED_DATA=false
# DEMO_ACCOUNTS=false

# ===================
# EXTERNAL SERVICES
# ===================
# Africa Talking SMS (for notifications)
AFRICA_TALKING_API_KEY=your_at_api_key
AFRICA_TALKING_USERNAME=sandbox
AFRICA_TALKING_SHORT_CODE=

# SendGrid (for email reports)
SENDGRID_API_KEY=your_sendgrid_api_key
SENDGRID_FROM_EMAIL=noreply@yourdomain.com
SENDGRID_FROM_NAME=DukaPOS

# OpenAI (for AI predictions - Business plan)
OPENAI_API_KEY=your_openai_api_key

# ===================
# FEATURE FLAGS
# ===================
# Enable M-Pesa payments (requires M-PESA config above)
FEATURE_MPESA_ENABLED=true

# Enable API keys and webhooks (Business feature)
FEATURE_ANALYTICS_ENABLED=true

# Enable web dashboard (requires frontend)
FEATURE_WEB_DASHBOARD_ENABLED=true

# Enable multi-shop and USSD (Pro feature)
FEATURE_MULTIPLE_SHOPS_ENABLED=true

# Enable staff accounts (Pro feature)
FEATURE_STAFF_ACCOUNTS_ENABLED=true
